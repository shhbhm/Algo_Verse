<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styling/style_home.css" />
    <link rel="stylesheet" href="../styling/style_graph.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@531&display=swap" rel="stylesheet" />
    <title>Sleeping Barber Visualizer</title>
    <style>
        .visualization-container {
            display: flex;
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        .canvas-container {
            flex: 2;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .controls-panel {
            flex: 1;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            height: fit-content;
        }
        #barberCanvas {
            border: 2px solid #3498db;
            border-radius: 8px;
            display: block;
            margin: 0 auto;
        }
        .status-panel {
            margin-top: 20px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
        }
        .barber-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 16px;
        }
        .sleeping { background: #3498db; color: white; }
        .cutting { background: #27ae60; color: white; }
        .waiting-chair {
            display: inline-block;
            width: 40px;
            height: 40px;
            margin: 2px;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            text-align: center;
            line-height: 36px;
            font-weight: bold;
        }
        .chair-occupied {
            background: #f39c12;
            color: white;
            border-color: #e67e22;
        }
        .chair-empty {
            background: #ecf0f1;
            color: #7f8c8d;
        }
        .log-panel {
            max-height: 200px;
            overflow-y: auto;
            background: #2c3e50;
            color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            margin-top: 15px;
        }
        .statistics {
            background: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
        }
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="navlen">
        <div class="navbar">
            <box class="element element-left">
                <div class="logo-icon">AV</div>
                <a href="/" class="dynamic-logo">Algorithm Visualizer</a>
            </box>
            <box class="element">
                <a href="os-problems.html" style="margin-right: 15px;">‚Üê OS Problems</a>
                <a href="https://www.linkedin.com/in/shubhamcse27/" target="_blank" style="margin-right: 15px;">
                    <i class="fab fa-linkedin"></i>LinkedIn</a>
                <a href="https://github.com/shhbhm" target="_blank">
                    <i class="fab fa-github-square"></i>Github</a>
            </box>
        </div>
    </div>

    <div class="flex-labels">
        <div class="flex-label-items">
            <label for="waitingChairs">Waiting Chairs:</label>
            <select id="waitingChairs" name="waitingChairs">
                <option value="3">3 Chairs</option>
                <option value="4">4 Chairs</option>
                <option value="5" selected>5 Chairs</option>
                <option value="6">6 Chairs</option>
                <option value="7">7 Chairs</option>
            </select>
        </div>
        <div class="flex-label-items">
            <label for="arrivalRate">Customer Arrival Rate:</label>
            <select id="arrivalRate" name="arrivalRate">
                <option value="slow">Slow (3-5s)</option>
                <option value="medium" selected>Medium (1-3s)</option>
                <option value="fast">Fast (0.5-1.5s)</option>
                <option value="very-fast">Very Fast (0.2-0.8s)</option>
            </select>
        </div>
        <div class="flex-label-items">
            <label for="speed">Simulation Speed:</label>
            <div class="slidecontainer">
                <input type="range" min="1" max="10" value="5" class="slider" id="speed">
            </div>
        </div>
    </div>

    <div class="flex-buttons">
        <div class="flex-button-items"><button id="startBtn" class="start">START</button></div>
        <div class="flex-button-items"><button id="pauseBtn" class="refresh">PAUSE</button></div>
        <div class="flex-button-items"><button id="resetBtn" class="reset">RESET</button></div>
        <div class="flex-button-items"><button id="stepBtn" class="reset">STEP</button></div>
    </div>

    <div class="visualization-container">
        <div class="canvas-container">
            <canvas id="barberCanvas" width="700" height="500"></canvas>
            
            <div class="status-panel">
                <div class="barber-status" id="barberStatus">
                    <span>üí§ Barber</span>
                    <span>SLEEPING</span>
                </div>
                
                <h4>ü™ë Waiting Room</h4>
                <div id="waitingRoomDisplay"></div>
                <div style="margin-top: 10px; font-size: 12px; color: #7f8c8d;">
                    Occupied: <span id="occupiedChairs">0</span> / <span id="totalChairs">5</span>
                </div>
            </div>
        </div>

        <div class="controls-panel">
            <h3>üìä Barber Shop Control</h3>
            
            <div class="statistics">
                <h4>üìà Statistics</h4>
                <div class="stat-item">
                    <span>Running Time:</span>
                    <span id="runningTime">0s</span>
                </div>
                <div class="stat-item">
                    <span>Customers Served:</span>
                    <span id="customersServed">0</span>
                </div>
                <div class="stat-item">
                    <span>Customers Left:</span>
                    <span id="customersLeft">0</span>
                </div>
                <div class="stat-item">
                    <span>Barber Busy Time:</span>
                    <span id="barberBusyTime">0%</span>
                </div>
                <div class="stat-item">
                    <span>Avg Wait Time:</span>
                    <span id="avgWaitTime">0s</span>
                </div>
                <div class="stat-item">
                    <span>Current Queue:</span>
                    <span id="currentQueue">0</span>
                </div>
            </div>

            <div class="log-panel" id="logPanel">
                <div class="log-entry">üí§ Sleeping Barber Simulator Ready</div>
                <div class="log-entry">Configure settings and click START to begin</div>
            </div>

            <div style="margin-top: 15px; font-size: 12px; color: #7f8c8d;">
                <strong>Legend:</strong><br>
                üí§ Sleeping | ‚úÇÔ∏è Cutting Hair | üë§ Customer | ü™ë Empty Chair<br>
                üü° Waiting Customer | üö™ Customer Leaving
            </div>
        </div>
    </div>

    <script src="js/sleeping-barber.js"></script>
</body>
</html> 